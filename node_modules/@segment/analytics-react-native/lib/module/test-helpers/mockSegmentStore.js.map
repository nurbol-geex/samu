{"version":3,"names":["SEGMENT_DESTINATION_KEY","createCallbackManager","createGetter","INITIAL_VALUES","isReady","context","undefined","settings","consentSettings","filters","userInfo","anonymousId","userId","traits","deepLinkData","referring_application","url","pendingEvents","createMockStoreGetter","fn","Promise","resolve","MockSegmentStore","reset","data","JSON","parse","stringify","initialData","constructor","callbacks","edgeFunctionSettings","get","onChange","_callback","callback","register","set","value","Function","run","add","key","push","remove","filter","e","messageId"],"sourceRoot":"../../../src","sources":["test-helpers/mockSegmentStore.ts"],"mappings":"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"}
