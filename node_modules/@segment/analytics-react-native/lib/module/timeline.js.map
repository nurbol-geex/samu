{"version":3,"names":["PluginType","UpdateType","getAllPlugins","ErrorType","SegmentError","PLUGIN_ORDER","before","enrichment","destination","after","Timeline","plugins","add","plugin","type","push","settings","analytics","get","hasInitialSettings","undefined","update","integrations","initial","onChange","newSettings","refresh","remove","index","findIndex","f","splice","apply","closure","forEach","process","incomingEvent","result","key","pluginResult","applyPlugins","event","execute","error","reportInternalError","PluginError","JSON","stringify","logger","warn"],"sourceRoot":"../../src","sources":["timeline.ts"],"mappings":"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"}
