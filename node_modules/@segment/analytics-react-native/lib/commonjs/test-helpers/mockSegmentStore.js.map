{"version":3,"names":["_SegmentDestination","require","_utils","_helpers","INITIAL_VALUES","isReady","context","undefined","settings","SEGMENT_DESTINATION_KEY","consentSettings","filters","userInfo","anonymousId","userId","traits","deepLinkData","referring_application","url","pendingEvents","createMockStoreGetter","fn","createGetter","Promise","resolve","MockSegmentStore","reset","data","JSON","parse","stringify","initialData","constructor","callbacks","createCallbackManager","edgeFunctionSettings","get","onChange","_callback","callback","register","set","value","Function","run","add","key","push","remove","filter","e","messageId","exports"],"sourceRoot":"../../../src","sources":["test-helpers/mockSegmentStore.ts"],"mappings":"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"}
